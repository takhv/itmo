ORG 0x010

RESULT1:	WORD ?
RESULT2:	WORD ?

I:	WORD 0x3

POINTER:	WORD ?
ADR:	WORD 0x6D0
X1:	WORD ?
X2:	WORD ?

MASK5: WORD 0x10
MASK6PL: WORD 0xFFE0

ORG 0x030

START:
LD ADR
ST POINTER

MAIN:
	LD I
	CMP #0x12
	BGE EXIT
	LD (POINTER)+
	ST X2
	CALL CHECKER
	LD I
	INC
	ST I
	JUMP MAIN

CHECKER:
	LD I
	ROR
	BCC RETURN
	CALL SUMMATOR
	RETURN:
		RET
	

SUMMATOR:
	CLA
	ST X1
	LD X2 
	AND MASK5
	BZS SUM
	LD X2
	OR MASK6PL
	ST X2
	LD #0xFF
	ST X1
	SUM:
		LD RESULT2
		ADD X2
		ST RESULT2
		LD RESULT1
		ADC X1
		ST RESULT1
		RET

EXIT:
	HLT

ORG 0x6D0
WORD -1
WORD 0x1
WORD 0x1 ; 0
WORD 0x1
WORD 0x1 ; 1
WORD 0x1
WORD 0x1 ; 2
WORD 0x1
WORD 0x1 ; 3
WORD 0x1
WORD 0x1 ; 4
WORD 0x1
WORD 0x1 ; 5
WORD 0x1
WORD 0x1 ; 6
